<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Good Day Calendar â€¢ Bugsfree Studio</title>
<script src="https://unpkg.com/feather-icons"></script>
<link rel="icon" href="./assets/agoodday.png" type="image/png">
<style>
  :root {
    --bg-dark: #0a0a1f;
    --card-dark: rgba(18, 24, 70, 0.82);
    --overlay-dark: rgba(8, 10, 38, 0.98);
    --text-dark: #f0f4ff;
    --accent-dark: #8b5cf6;
    --accent-glow: #c4b5fd;
    --border-dark: rgba(139, 92, 246, 0.38);
    --shadow-dark: rgba(0,0,0,0.65);
  }

  [data-theme="light"] {
    --bg-dark: #faf8ff;
    --card-dark: rgba(255, 255, 255, 0.95);
    --overlay-dark: rgba(250, 248, 255, 0.98);
    --text-dark: #1a1a2e;
    --accent-dark: #7c3aed;
    --accent-glow: #6d28d9;
    --border-dark: rgba(124, 60, 237, 0.28);
    --shadow-dark: rgba(0,0,0,0.12);
  }

  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    height: 100vh;
    background: var(--bg-dark) center/cover no-repeat fixed;
    color: var(--text-dark);
    font-family: 'Inter', system-ui, sans-serif;
    overflow: hidden;
    transition: background 4s ease;
  }

  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap');

  /* Theme Toggle */
  .theme-toggle {
    position: fixed;
    top: 20px;
    left: 20px;
    width: 60px; height: 60px;
    background: rgba(139,92,246,0.25);
    backdrop-filter: blur(16px);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; z-index: 300;
    box-shadow: 0 12px 36px var(--shadow-dark);
    border: 3px solid var(--border-dark);
    transition: all 0.5s ease;
  }
  .theme-toggle:hover { transform: scale(1.2) rotate(20deg); background: var(--accent-dark); }

  /* Header */
  .header {
    position: fixed;
    top: 0; left: 0; right: 0;
    padding: 1rem 1.2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    z-index: 100;
    pointer-events: none;
    flex-wrap: wrap;
    gap: 12px;
  }

  .left-info, .current-date-badge {
    background: var(--card-dark);
    backdrop-filter: blur(22px);
    padding: 1rem 1.6rem;
    border-radius: 32px;
    pointer-events: auto;
    box-shadow: 0 14px 48px var(--shadow-dark);
    border: 2.5px solid var(--border-dark);
  }

  .live-time {
    font-size: clamp(1.4rem, 4vw, 2rem);
    font-weight: 800;
    background: linear-gradient(90deg, var(--accent-dark), #c4b5fd);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .current-date-badge .big-date {
    font-size: clamp(2rem, 11vw, 3rem);
    font-weight: 900;
    background: linear-gradient(135deg, #8b5cf6, #ec4899, #06b6d4, #f59e0b);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 8px 30px rgba(139,92,246,0.4);
  }

  .current-date-badge .date-label {
    font-size: clamp(1rem, 3vw, 1.2rem);
    color: var(--accent-glow);
    margin-top: 8px;
    letter-spacing: 1.5px;
  }

  .month-selector {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--card-dark);
    backdrop-filter: blur(26px);
    padding: 1rem 2rem;
    border-radius: 60px;
    display: flex;
    gap: 16px;
    align-items: center;
    z-index: 200;
    pointer-events: auto;
    box-shadow: 0 16px 56px var(--shadow-dark);
    border: 3px solid var(--border-dark);
  }

  select, input[type="number"] {
    background: rgba(255,255,255,0.12);
    color: #8b5cf6;
    border: none;
    font-size: clamp(1.1rem, 3.5vw, 1.5rem);
    font-weight: 700;
    padding: 0.7rem 1.2rem;
    border-radius: 18px;
    outline: none;
    cursor: pointer;
  }

  /* Navigation Arrows */
  .nav-btn {
    position: fixed; top: 50%; transform: translateY(-50%);
    width: clamp(60px, 12vw, 78px);
    height: clamp(60px, 12vw, 78px);
    border-radius: 50%;
    background: rgba(139,92,246,0.3);
    backdrop-filter: blur(16px);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; z-index: 200;
    font-size: clamp(2rem, 6vw, 3rem);
    color: white;
    box-shadow: 0 24px 60px var(--shadow-dark);
    border: 3px solid var(--border-dark);
    transition: all 0.6s ease;
  }
  .nav-btn:hover { background: var(--accent-dark); transform: translateY(-50%) scale(1.35); }

  .nav-prev { left: 22px; }
  .nav-next { right: 22px; }

  /* TODAY / HOME BUTTON - FIXED & BEAUTIFUL */
  .home-btn {
    position: fixed;
    bottom: 34px;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(45deg, var(--accent-dark), #ec4899);
    color: white;
    padding: clamp(14px, 4vw, 20px) clamp(36px, 10vw, 56px);
    border: none;
    border-radius: 60px;
    font-weight: 900;
    font-size: clamp(1.1rem, 3.5vw, 1.4rem);
    cursor: pointer;
    box-shadow: 0 24px 70px rgba(139,92,246,0.8);
    z-index: 250;
    transition: all 0.6s ease;
    display: flex;
    align-items: center;
    gap: 12px;
    white-space: nowrap;
  }
  .home-btn:hover {
    transform: translateX(-50%) scale(1.18);
    box-shadow: 0 30px 90px rgba(236,72,153,0.9);
  }
  .home-btn i { font-size: 1.4em; }

  /* Calendar Grid */
  .calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: clamp(14px, 3.5vw, 22px);
    height: 100vh;
    padding: clamp(140px, 28vh, 180px) clamp(18px, 5vw, 32px) clamp(130px, 18vh, 160px);
    align-content: center;
  }

  .day-card {
    aspect-ratio: 1;
    background: var(--card-dark);
    border-radius: clamp(30px, 7vw, 44px);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: clamp(2.4rem, 8vw, 4.2rem);
    font-weight: 900;
    color: var(--text-dark);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(20px);
    border: 3px solid var(--border-dark);
    transition: all 0.9s cubic-bezier(0.34,1.56,0.64,1);
    box-shadow: 0 18px 50px var(--shadow-dark);
  }

  .day-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, var(--c1), var(--c2));
    opacity: 0;
    transition: opacity 0.9s;
  }

  .day-card span {
    position: relative;
    z-index: 2;
    text-shadow: 0 6px 24px rgba(0,0,0,0.7);
  }

  .day-card:hover {
    transform: translateY(-20px) scale(1.15);
    box-shadow: 0 60px 130px rgba(139,92,246,0.9);
  }

  .day-card.today {
    background: linear-gradient(45deg, #8b5cf6, #ec4899, #06b6d4, #f59e0b, #10b981, #f72585);
    background-size: 600%;
    animation: rainbowDance 12s ease infinite;
    box-shadow: 0 0 100px rgba(139,92,246,0.9);
  }

  @keyframes rainbowDance {
    0%,100% { background-position: 0% 50%; transform: scale(1) rotate(0); }
    50% { background-position: 100% 50%; transform: scale(1.08) rotate(3deg); }
  }

  /* Butterfly Flight Animation */
  @keyframes butterflyDream {
    0% { transform: translateY(0) rotate(0) scale(1); opacity: 1; }
    15% { transform: translateY(-40px) translateX(30px) rotate(15deg) scale(1.3); }
    30% { transform: translateY(-120px) translateX(-40px) rotate(-25deg) scale(1.6); }
    45% { transform: translateY(-80px) translateX(60px) rotate(20deg) scale(1.5); }
    60% { transform: translateY(-160px) translateX(-30px) rotate(-15deg) scale(1.8); }
    80% { transform: translateY(-40px) translateX(40px) rotate(10deg) scale(1.4); }
    100% { transform: translateY(0) translateX(0) rotate(0) scale(12); opacity: 0; border-radius: 50%; }
  }

  .day-card.flying {
    animation: butterflyDream 2.2s cubic-bezier(0.25,0.8,0.25,1) forwards;
    z-index: 99999 !important;
    pointer-events: none;
  }

  /* Detail Card */
  #detailOverlay {
    position: fixed; inset: 0;
    background: var(--overlay-dark);
    backdrop-filter: blur(40px);
    display: none; align-items: center; justify-content: center;
    z-index: 1000; opacity: 0;
    transition: opacity 1.2s ease;
    padding: 18px;
  }

  .detail-card {
    background: var(--card-dark);
    backdrop-filter: blur(36px);
    border-radius: 52px;
    padding: clamp(2.2rem, 7vw, 4rem) clamp(2.2rem, 6vw, 3.5rem);
    width: 100%;
    max-width: 760px;
    color: var(--text-dark);
    position: relative;
    box-shadow: 0 70px 180px var(--shadow-dark);
    border: 4px solid var(--border-dark);
    animation: bloomIn 1.2s ease forwards;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  @keyframes bloomIn {
    0% { transform: scale(0.1); opacity: 0; border-radius: 50%; }
    70% { transform: scale(1.05); }
    100% { transform: scale(1); opacity: 1; border-radius: 52px; }
  }

  .close-btn {
    position: absolute; top: 22px; right: 28px;
    width: 68px; height: 68px; border-radius: 50%;
    background: rgba(255,255,255,0.25);
    display: flex; align-items: center; justify-content: center;
    font-size: 3.2rem; cursor: pointer;
    transition: 0.6s;
  }
  .close-btn:hover { background: #ef4444; transform: rotate(180deg) scale(1.3); }

  .detail-date {
    font-size: clamp(1rem, 9vw, 2.3rem);
    font-weight: 900;
    text-align: center;
    background: linear-gradient(90deg, var(--accent-dark), #ec4899, #06b6d4, #f59e0b);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .info-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: clamp(1.2rem, 4vw, 2rem);
    font-size: clamp(1.05rem, 3vw, 1.4rem);
  }

  .info-item {
    background: rgba(255,255,255,0.16);
    padding: clamp(1.4rem, 4vw, 2rem);
    border-radius: 28px;
    display: flex;
    align-items: center;
    gap: 18px;
    border: 2.5px solid var(--border-dark);
  }

  .detail-footer {
    text-align: center;
    padding: 2rem 0 1rem;
    border-top: 3px dashed var(--border-dark);
    font-size: clamp(0.95rem, 2.8vw, 1.15rem);
    color: var(--accent-glow);
  }

  @media (max-width: 480px) {
    .info-grid { grid-template-columns: 1fr; }
    .detail-card { padding: 2.5rem 2rem; }
  }
</style>
</head>
<body data-theme="dark">

<div class="theme-toggle" id="themeToggle">
  <i data-feather="moon" id="themeIcon"></i>
</div>

<div class="header">
  <div class="left-info">
    <div class="live-time"><i data-feather="clock"></i> <span id="liveTime">14:32:18</span></div>
    <div class="day-name"><i data-feather="calendar"></i> <span id="dayName">Monday</span></div>
  </div>

  <div class="month-selector">
    <select id="monthSelect"></select>
    <input type="number" id="yearInput" min="1950" max="2050" value="2025">
  </div>

  <div class="current-date-badge">
    <div class="big-date" id="bigDate">30</div>
    <div class="date-label" id="dateLabel">November 2025</div>
  </div>
</div>

<!-- Navigation Arrows -->
<div class="nav-btn nav-prev" id="prevBtn"><i data-feather="chevron-left"></i></div>
<div class="nav-btn nav-next" id="nextBtn"><i data-feather="chevron-right"></i></div>

<!-- TODAY / HOME BUTTON - FULLY RESTORED -->
<button class="home-btn" id="homeBtn">
  <i data-feather="home"></i> Today
</button>

<div class="calendar-grid" id="calendar"></div>

<div id="detailOverlay">
  <div class="detail-card">
    <div class="close-btn" id="closeBtn"><i data-feather="x"></i></div>
    <div class="detail-date" id="detailDate">30 November 2025</div>
    <div class="info-grid">
      <div class="info-item"><i data-feather="clock"></i> <div><strong>Time</strong><br><span id="detailTime">--:--</span></div></div>
      <div class="info-item"><i data-feather="cloud"></i> <div><strong>Weather</strong><br><span id="weather">Loading...</span></div></div>
      <div class="info-item"><i data-feather="gift"></i> <div><strong>Special Day</strong><br><span id="holiday">Regular day</span></div></div>
      <div class="info-item"><i data-feather="zap"></i> <div><strong>Top News</strong><br><span id="news">Loading...</span></div></div>
    </div>

    <div class="detail-footer">
      <div>Designed by <strong>Bugsfree Studio</strong> | <script>document.write(new Date().getFullYear())</script></div>
      <div style="margin-top: 14px;">
        <a href="https://github.com/bugsfreeweb" target="_blank"><i data-feather="github"></i></a>
        <a href="https://x.com/bugsfreeweb" target="_blank"><i data-feather="twitter"></i></a>
      </div>
    </div>
  </div>
</div>

<script>
// Seasonal Wallpapers (24 high-quality)
const seasonalNature = [
  "https://images.pexels.com/photos/132037/pexels-photo-132037.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/844297/pexels-photo-844297.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/3584428/pexels-photo-3584428.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/1461974/pexels-photo-1461974.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/346529/pexels-photo-346529.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/933255/pexels-photo-933255.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/1484759/pexels-photo-1484759.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/2356059/pexels-photo-2356059.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/1252864/pexels-photo-1252864.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/235621/pexels-photo-235621.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/1424246/pexels-photo-1424246.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/1659437/pexels-photo-1659437.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/1612351/pexels-photo-1612351.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/40896/larch-conifer-cone-branch-tree-40896.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/36487/above-adventure-aerial-air.jpg?w=1920&q=80",
  "https://images.pexels.com/photos/33109/fall-autumn-red-season.jpg?w=1920&q=80",
  "https://images.pexels.com/photos/772429/pexels-photo-772429.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/1379636/pexels-photo-1379636.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/994605/pexels-photo-994605.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/1519088/pexels-photo-1519088.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/47334/meadow-grass-palm-tree-forest-plenty-of-natural-light-47334.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/38136/pexels-photo-38136.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/66997/pexels-photo-66997.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/268533/pexels-photo-268533.jpeg?w=1920&q=80",
  "https://images.pexels.com/photos/39811/pexels-photo-39811.jpeg?w=1920&q=80"
];

function changeBackground() {
  const month = new Date().getMonth();
  const hour = new Date().getHours();
  const index = (month * 2) + (hour >= 12 ? 1 : 0);
  document.body.style.backgroundImage = `url('${seasonalNature[index % seasonalNature.length]}')`;
}
changeBackground();
setInterval(changeBackground, 3600000);

let currentMonth = new Date().getMonth();
let currentYear = new Date().getFullYear();
const today = new Date();

// Theme Toggle
document.getElementById('themeToggle').onclick = () => {
  const isDark = document.body.getAttribute('data-theme') === 'dark';
  document.body.setAttribute('data-theme', isDark ? 'light' : 'dark');
  document.getElementById('themeIcon').setAttribute('data-feather', isDark ? 'sun' : 'moon');
  feather.replace();
};

// Clock
function updateClock() {
  const now = new Date();
  document.getElementById('dayName').textContent = now.toLocaleDateString('en-US', {weekday:'long'});
  document.getElementById('liveTime').textContent = now.toLocaleTimeString('en-GB', {hour:'2-digit', minute:'2-digit', second:'2-digit'});
  document.getElementById('bigDate').textContent = now.getDate();
  document.getElementById('dateLabel').textContent = now.toLocaleDateString('en-US', {month:'long', year:'numeric'});
}
setInterval(updateClock, 1000);
updateClock();

// Calendar Logic
const months = ["January","February","March","April","May","June","July","August","September","October","November","December"];
const monthSelect = document.getElementById('monthSelect');
const yearInput = document.getElementById('yearInput');

months.forEach((m, i) => {
  const opt = document.createElement('option');
  opt.value = i; opt.textContent = m;
  if (i === currentMonth) opt.selected = true;
  monthSelect.appendChild(opt);
});
yearInput.value = currentYear;

monthSelect.onchange = () => { currentMonth = parseInt(monthSelect.value); renderCalendar(); };
yearInput.onchange = () => {
  let y = parseInt(yearInput.value);
  if (y >= 1950 && y <= 2050) currentYear = y;
  else yearInput.value = currentYear;
  renderCalendar();
};

function renderCalendar() {
  const grid = document.getElementById('calendar');
  grid.innerHTML = '';
  const firstDay = new Date(currentYear, currentMonth, 1).getDay();
  const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();

  for (let i = firstDay - 1; i >= 0; i--) {
    const card = document.createElement('div');
    card.className = 'day-card other-month';
    card.innerHTML = `<span>${new Date(currentYear, currentMonth, 0).getDate() - i}</span>`;
    grid.appendChild(card);
  }

  for (let d = 1; d <= daysInMonth; d++) {
    const card = document.createElement('div');
    card.className = 'day-card';
    if (d === today.getDate() && currentMonth === today.getMonth() && currentYear === today.getFullYear()) {
      card.classList.add('today');
    }
    const hue = (d * 16 + currentMonth * 34) % 360;
    card.style.setProperty('--c1', `hsl(${hue}, 92%, 70%)`);
    card.style.setProperty('--c2', `hsl(${(hue + 120) % 360}, 92%, 70%)`);
    card.innerHTML = `<span>${d}</span>`;
    card.onclick = (e) => butterflyToDetail(e, card, d, currentMonth, currentYear);
    grid.appendChild(card);
  }

  const total = grid.children.length;
  for (let i = 1; i <= 42 - total; i++) {
    const card = document.createElement('div');
    card.className = 'day-card other-month';
    card.innerHTML = `<span>${i}</span>`;
    grid.appendChild(card);
  }
}

function butterflyToDetail(event, card, day, month, year) {
  const rect = card.getBoundingClientRect();
  const clone = card.cloneNode(true);
  clone.classList.add('flying');
  clone.style.position = 'fixed';
  clone.style.left = rect.left + 'px';
  clone.style.top = rect.top + 'px';
  clone.style.width = rect.width + 'px';
  clone.style.height = rect.height + 'px';
  clone.style.zIndex = 99999;
  document.body.appendChild(clone);

  setTimeout(() => {
    showDetail(day, month, year);
    clone.remove();
  }, 2200);
}

function showDetail(day, month, year) {
  const date = new Date(year, month, day);
  const overlay = document.getElementById('detailOverlay');
  document.getElementById('detailDate').textContent = date.toLocaleDateString('en-US', {weekday:'long', day:'numeric', month:'long', year:'numeric'});
  document.getElementById('detailTime').textContent = new Date().toLocaleTimeString();

  overlay.style.display = 'flex';
  setTimeout(() => overlay.style.opacity = '1', 100);
}

document.getElementById('closeBtn').onclick = () => {
  const overlay = document.getElementById('detailOverlay');
  overlay.style.opacity = '0';
  setTimeout(() => overlay.style.display = 'none', 1200);
};

// Navigation & Home Button - FIXED
document.getElementById('prevBtn').onclick = () => {
  currentMonth--;
  if (currentMonth < 0) { currentMonth = 11; currentYear--; }
  renderCalendar();
  monthSelect.value = currentMonth;
  yearInput.value = currentYear;
};

document.getElementById('nextBtn').onclick = () => {
  currentMonth++;
  if (currentMonth > 11) { currentMonth = 0; currentYear++; }
  renderCalendar();
  monthSelect.value = currentMonth;
  yearInput.value = currentYear;
};

document.getElementById('homeBtn').onclick = () => {
  currentMonth = today.getMonth();
  currentYear = today.getFullYear();
  renderCalendar();
  monthSelect.value = currentMonth;
  yearInput.value = currentYear;
};

// Init
feather.replace();
renderCalendar();
</script>
</body>
</html>